# 15.3 Encapsulation

- it is the **mechanism of bundling data (variables) and the methods that operates on the data into a single unit, a class**
- basically the key idea is to **hide the internal state of an object** from the outside world and only expose a controlled interface (public methods) to interact with it
- the class’s variables are usually declared `private` as this prevents external code from directly accessing or modifying the data
- **access to the private data** is provided only through `getters` and `setters`
- the controlled access allows us to add validation logic in the setter methods

## Types of Encapsulation:

### 1. Read-Only Encapsulation

- data can be **read from outside class but cannot be modified**
- **Implementation:** Declare a `private` variable and provide only a `public` **getter method.** Do not provide a setter
- **Usage:** For fields whose values should be set once (e.g., in the constructor) and never changed afterward, such as a user’s id or a product’s `creationDate`
- **Rules:** The variable must be `private,` the **getter method** must be `public` and **getter method** should have **no parameters**

```java
public class User {
    private final String userId;

    public User(String userId) {
        this.userId = userId;
    }

    public String getUserId() { // Read-only access
        return userId;
    }
}
```

### 2. Write-Only Encapsulation

- data can only be **modified from outside the class but cannot be read.** This is less common but useful in specific scenarios (e.g., a one-way security token)
- **Implementation:** Declare the **variable** as `private` and provide only a **setter method.** Do not provide **getter**
- **Usage:** For sensitive data where you need to allow a value to be set, but you should never allow the value to be retrieved directly
- **Rules:** The variable must be `private,` **setter method** must be `public.` The **setter method** should have **one parameter** and **return type** `void`

```java
public class SecurityToken {
    private String tokenValue;

    public void setToken(String token) { // Write-only access
        // Logic to validate the token
        this.tokenValue = token;
    }
}
```

### 3. Read-Write Encapsulation

- it’s the most common type, where **data can be both read and written to,** but still through  methods controlled
- **Implementation:** Declare the variable as **private** and provide both **getter and setter methods** as `public`
- **Usage:** For most modifiable instance variables in a class, like a user’s email or an object’s name, where we need to read and change the data in a controlled way
- **Rules:** The variable must be **private** and the **getter and setter methods** provided must be `public;` the **setter can include validation logic**

```java
public class Account {
    private double balance;

    public double getBalance() { // Getter
        return balance;
    }

    public void setBalance(double amount) { // Setter with validation
        if (amount >= 0) {
            this.balance = amount;
        } else {
            System.out.println("Invalid balance amount.");
        }
    }
}
```