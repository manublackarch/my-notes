# 15.1 Inheritance

- Inheritance is one of the four core concepts of OOPS
- it allows a class (called subclass or child class) to inherit fields and methods from another class (called superclass or parent class)
- inheritance enables code reusing and establishes a parent-child relationship between classes

## Syntax with Example:

```java
class Animal {
    void eat() {
        System.out.println("This animal eats food.");
    }
}

class Dog extends Animal {  //inherited animal class
    void bark() {
        System.out.println("Dog barks.");
    }
}

//usage of inherited class
Dog d = new Dog();
d.eat();   // Inherited method
d.bark();  // Child's own method
```

## Types of Inheritance:

### 1. Single Inheritance

- **a class inherits from just one parent class,** it’s the simplest and most common type
- **Concept:** `Class B` extends `Class A`

```java
class Animal { // Superclass
    void eat() {
        System.out.println("This animal eats food.");
    }
}

class Dog extends Animal { // Subclass
    void bark() {
        System.out.println("The dog barks.");
    }
}
```

- here now, object created from `Dog` Class can call both `eat` and `bark` methods

### 2. Multilevel Inheritance

- **a class inherits from a parent class, which itself inherits from another class,**
- this forms a chain of inheritance
- **Concept:** `Class C` extends `Class B` extends `Class A`

```java
class Animal {
    void eat() { /* ... */ }
}

class Mammal extends Animal { // Mammal inherits from Animal
    void walk() { /* ... */ }
}

class Dog extends Mammal { // Dog inherits from Mammal
    void bark() { /* ... */ }
}
```

- `Dog` Class inherits methods from both `Animal` and `Mammal`  Class

### 3. Hierarchical Inheritance

- **multiple classes inherits from same parent class,** kind of multiple child from single parent class
- **Concept:** `Class C` extends from `Class A`  and  `Class B` also extends from `Class A`

```java
class Animal {
    void eat() { /* ... */ }
}

class Mammal extends Animal { // Mammal inherits from Animal
    void walk() { /* ... */ }
}

class Dog extends Mammal { // Dog inherits from Mammal
    void bark() { /* ... */ }
}
```

- Both `Dog` and `Cat` have access to the `eat()` method, but a `Dog` cannot call a `Cat`'s `meow()` method

### 4. Multiple Inheritance (not supported by Classes in Java)

- **First of all main, `Classes` in Java don’t support multiple inheritance, it’s only supported by `Interface`**
- `Classes` support multiple inheritance but only when it comes to use `Interface`, -  **single Class can inherits from multiple Interface**
- `class MyClass extends ParentClass implements Interface1, Interface2`

## `super` keyword

- the `super` keyword in java refers to **immediate parent class object**
- it’s primarily used in **subclass (child)** to **access members (fields and methods)** of its **superclass (parent)** that have been **hidden or overridden**
- the `super` keyword is crucial for **maintaining the class hierarchy** and **leveraging inheritance effectively**
- The most common use is to **call the parent class’s constructor from the subclass’s constructor,** this is the form of constructor chaining and must be very first statement in the subclass’s constructor

```java
class Animal {
    Animal(String type) { /* ... */ }
}
class Dog extends Animal {
    Dog(String type) {
        super(type); // Calls the Animal class constructor
    }
}
```

- When a **subclass overrides a method,** we can still call the **original method from super class** using `super.methodName()`

```java
class Parent {
    void display() { System.out.println("Parent method."); }
}
class Child extends Parent {
    @Override
    void display() {
        super.display(); // Calls the parent's display() method
        System.out.println("Child method.");
    }
}
```

## `instanceof` operator

- it is a **binary operator** used for **type checking**
- it checks whether an object is an instance of a particular class, subclass or interface, it returns true if the object is instance of the specified type and returns false otherwise
- basically used for safely casting objects or for writing conditional logic based on an object’s type
- **To check an object’s type before casting:** this prevents a `ClassCastException` by ensuring that an object is compatible with the type we are trying to cast it

```java
Object myObject = "Hello";
if (myObject instanceof String) {
    String myString = (String) myObject; // Safe to cast
    System.out.println(myString.toUpperCase());
}
```

- **With interfaces and inheritance:** The operator checks the entire inheritance hierarchy. An object is considered an instance of a type if it is that type, a subclass of that type, or if it implements that interface.

```java
class Animal {}
class Dog extends Animal {}

Animal myDog = new Dog();

System.out.println(myDog instanceof Dog);    // true
System.out.println(myDog instanceof Animal); // true
System.out.println(myDog instanceof Object); // true
```

## Inheritance Rules always to Remember:

1. Java uses `extends` keyword for class inheritance
2. Java does not support multiple inheritance with classes 
3. The Constructor of parent class is always called first in subclass’s constructor
    - Even if not explicitly written, the parent’s **no-arg constructor** runs before child’s constructor.
    
    ```java
    class A {
        A() {
            System.out.println("A constructor");
        }
    }
    
    class B extends A {
        B() {
            System.out.println("B constructor");
        }
    }
    
    //output
    A constructor
    B constructor
    ```
    
    - `super` is used to explicitly call the parent constructor
4. child class can **access only public and protected members,** *private members of the parent class are not inherited*
5. **Method overriding is allowed in inheritance,** *child class can redefine a method of parent class*
6. `super.variable` or `super.methodName()` is used to **access parent class’s members** in child class
7. All Classes are extended from `java.lang.Object`
    - Even if no class is explicitly extended, Java automatically extends `Object` class.
    
    ```java
    class MyClass { }
    // This is same as:
    class MyClass extends Object { }
    ```
    
8. Constructors are not inherited in child class, they can be called using `super` keyword
9. use `instanceof` operator to **check type before casting objects**
10. `Final` methods cannot be overridden, **Final** class can not be extended
11. **Static** methods are **not overridden,** *they are hidden*
    
    ```java
    class A {
        static void show() { System.out.println("A"); }
    }
    class B extends A {
        static void show() { System.out.println("B"); }
    }
    ```
    
    - this is **method hiding,** not overriding
12. Private methods are not inherited or overridden 
13. use of `protected` for subclass access, *protected allows child class access within the same class package or via inheritance*